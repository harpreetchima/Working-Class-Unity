---
url: "https://nuxt.com/docs/4.x/api/kit/nitro"
title: "Nitro ¬∑ Nuxt Kit v4"
---

[Back to home](https://nuxt.com/) v4.2.1

- [Docs](https://nuxt.com/docs/4.x)
- [Modules](https://nuxt.com/modules)
- [Templates](https://nuxt.com/templates)
- [Resources](https://nuxt.com/showcase)
- [Enterprise](https://nuxt.com/enterprise)
- [Blog](https://nuxt.com/blog)

Search‚Ä¶
`Ctrl`  `k`
[58.9K](https://go.nuxt.com/github)

- [Get Started](https://nuxt.com/docs/4.x/getting-started/installation)
- [Structure](https://nuxt.com/docs/4.x/directory-structure)
- [Guide](https://nuxt.com/docs/4.x/guide)
- [API](https://nuxt.com/docs/4.x/api)
- [Deploy](https://nuxt.com/deploy)
- [Examples](https://nuxt.com/docs/4.x/examples)
- [Community](https://nuxt.com/docs/4.x/community)

- Components


- [<ClientOnly>](https://nuxt.com/docs/4.x/api/components/client-only)
- [<DevOnly>](https://nuxt.com/docs/4.x/api/components/dev-only)
- [<NuxtClientFallback>](https://nuxt.com/docs/4.x/api/components/nuxt-client-fallback)
- [<NuxtPicture>](https://nuxt.com/docs/4.x/api/components/nuxt-picture)
- [<Teleport>](https://nuxt.com/docs/4.x/api/components/teleports)
- [<NuxtRouteAnnouncer>](https://nuxt.com/docs/4.x/api/components/nuxt-route-announcer)
- [<NuxtTime>](https://nuxt.com/docs/4.x/api/components/nuxt-time)
- [<NuxtPage>](https://nuxt.com/docs/4.x/api/components/nuxt-page)
- [<NuxtLayout>](https://nuxt.com/docs/4.x/api/components/nuxt-layout)
- [<NuxtLink>](https://nuxt.com/docs/4.x/api/components/nuxt-link)
- [<NuxtLoadingIndicator>](https://nuxt.com/docs/4.x/api/components/nuxt-loading-indicator)
- [<NuxtErrorBoundary>](https://nuxt.com/docs/4.x/api/components/nuxt-error-boundary)
- [<NuxtWelcome>](https://nuxt.com/docs/4.x/api/components/nuxt-welcome)
- [<NuxtIsland>](https://nuxt.com/docs/4.x/api/components/nuxt-island)
- [<NuxtImg>](https://nuxt.com/docs/4.x/api/components/nuxt-img)

- Composables


- [onPrehydrate](https://nuxt.com/docs/4.x/api/composables/on-prehydrate)
- [useAppConfig](https://nuxt.com/docs/4.x/api/composables/use-app-config)
- [useAsyncData](https://nuxt.com/docs/4.x/api/composables/use-async-data)
- [useCookie](https://nuxt.com/docs/4.x/api/composables/use-cookie)
- [useError](https://nuxt.com/docs/4.x/api/composables/use-error)
- [useFetch](https://nuxt.com/docs/4.x/api/composables/use-fetch)
- [useHead](https://nuxt.com/docs/4.x/api/composables/use-head)
- [useHeadSafe](https://nuxt.com/docs/4.x/api/composables/use-head-safe)
- [useHydration](https://nuxt.com/docs/4.x/api/composables/use-hydration)
- [useLazyAsyncData](https://nuxt.com/docs/4.x/api/composables/use-lazy-async-data)
- [useLazyFetch](https://nuxt.com/docs/4.x/api/composables/use-lazy-fetch)
- [useLoadingIndicator](https://nuxt.com/docs/4.x/api/composables/use-loading-indicator)
- [useNuxtApp](https://nuxt.com/docs/4.x/api/composables/use-nuxt-app)
- [useNuxtData](https://nuxt.com/docs/4.x/api/composables/use-nuxt-data)
- [usePreviewMode](https://nuxt.com/docs/4.x/api/composables/use-preview-mode)
- [useRequestEvent](https://nuxt.com/docs/4.x/api/composables/use-request-event)
- [useRequestFetch](https://nuxt.com/docs/4.x/api/composables/use-request-fetch)
- [useRequestHeader](https://nuxt.com/docs/4.x/api/composables/use-request-header)
- [useRequestHeaders](https://nuxt.com/docs/4.x/api/composables/use-request-headers)
- [useRequestURL](https://nuxt.com/docs/4.x/api/composables/use-request-url)
- [useResponseHeader](https://nuxt.com/docs/4.x/api/composables/use-response-header)
- [useRoute](https://nuxt.com/docs/4.x/api/composables/use-route)
- [useRouteAnnouncer](https://nuxt.com/docs/4.x/api/composables/use-route-announcer)
- [useRouter](https://nuxt.com/docs/4.x/api/composables/use-router)
- [useRuntimeConfig](https://nuxt.com/docs/4.x/api/composables/use-runtime-config)
- [useRuntimeHook](https://nuxt.com/docs/4.x/api/composables/use-runtime-hook)
- [useSeoMeta](https://nuxt.com/docs/4.x/api/composables/use-seo-meta)
- [useServerSeoMeta](https://nuxt.com/docs/4.x/api/composables/use-server-seo-meta)
- [useState](https://nuxt.com/docs/4.x/api/composables/use-state)

- Utils


- [$fetch](https://nuxt.com/docs/4.x/api/utils/dollarfetch)
- [abortNavigation](https://nuxt.com/docs/4.x/api/utils/abort-navigation)
- [addRouteMiddleware](https://nuxt.com/docs/4.x/api/utils/add-route-middleware)
- [callOnce](https://nuxt.com/docs/4.x/api/utils/call-once)
- [clearError](https://nuxt.com/docs/4.x/api/utils/clear-error)
- [clearNuxtData](https://nuxt.com/docs/4.x/api/utils/clear-nuxt-data)
- [clearNuxtState](https://nuxt.com/docs/4.x/api/utils/clear-nuxt-state)
- [createError](https://nuxt.com/docs/4.x/api/utils/create-error)
- [defineLazyHydrationComponent](https://nuxt.com/docs/4.x/api/utils/define-lazy-hydration-component)
- [defineNuxtComponent](https://nuxt.com/docs/4.x/api/utils/define-nuxt-component)
- [defineNuxtPlugin](https://nuxt.com/docs/4.x/api/utils/define-nuxt-plugin)
- [defineNuxtRouteMiddleware](https://nuxt.com/docs/4.x/api/utils/define-nuxt-route-middleware)
- [definePageMeta](https://nuxt.com/docs/4.x/api/utils/define-page-meta)
- [defineRouteRules](https://nuxt.com/docs/4.x/api/utils/define-route-rules)
- [navigateTo](https://nuxt.com/docs/4.x/api/utils/navigate-to)
- [onBeforeRouteLeave](https://nuxt.com/docs/4.x/api/utils/on-before-route-leave)
- [onBeforeRouteUpdate](https://nuxt.com/docs/4.x/api/utils/on-before-route-update)
- [onNuxtReady](https://nuxt.com/docs/4.x/api/utils/on-nuxt-ready)
- [prefetchComponents](https://nuxt.com/docs/4.x/api/utils/prefetch-components)
- [preloadComponents](https://nuxt.com/docs/4.x/api/utils/preload-components)
- [preloadRouteComponents](https://nuxt.com/docs/4.x/api/utils/preload-route-components)
- [prerenderRoutes](https://nuxt.com/docs/4.x/api/utils/prerender-routes)
- [refreshCookie](https://nuxt.com/docs/4.x/api/utils/refresh-cookie)
- [refreshNuxtData](https://nuxt.com/docs/4.x/api/utils/refresh-nuxt-data)
- [reloadNuxtApp](https://nuxt.com/docs/4.x/api/utils/reload-nuxt-app)
- [setPageLayout](https://nuxt.com/docs/4.x/api/utils/set-page-layout)
- [setResponseStatus](https://nuxt.com/docs/4.x/api/utils/set-response-status)
- [showError](https://nuxt.com/docs/4.x/api/utils/show-error)
- [updateAppConfig](https://nuxt.com/docs/4.x/api/utils/update-app-config)

- Commands


- [nuxt add](https://nuxt.com/docs/4.x/api/commands/add)
- [nuxt analyze](https://nuxt.com/docs/4.x/api/commands/analyze)
- [nuxt build](https://nuxt.com/docs/4.x/api/commands/build)
- [nuxt build-module](https://nuxt.com/docs/4.x/api/commands/build-module)
- [nuxt cleanup](https://nuxt.com/docs/4.x/api/commands/cleanup)
- [nuxt dev](https://nuxt.com/docs/4.x/api/commands/dev)
- [nuxt devtools](https://nuxt.com/docs/4.x/api/commands/devtools)
- [nuxt generate](https://nuxt.com/docs/4.x/api/commands/generate)
- [nuxt info](https://nuxt.com/docs/4.x/api/commands/info)
- [create nuxt](https://nuxt.com/docs/4.x/api/commands/init)
- [nuxt module](https://nuxt.com/docs/4.x/api/commands/module)
- [nuxt prepare](https://nuxt.com/docs/4.x/api/commands/prepare)
- [nuxt preview](https://nuxt.com/docs/4.x/api/commands/preview)
- [nuxt test](https://nuxt.com/docs/4.x/api/commands/test)
- [nuxt typecheck](https://nuxt.com/docs/4.x/api/commands/typecheck)
- [nuxt upgrade](https://nuxt.com/docs/4.x/api/commands/upgrade)

- Nuxt Kit


- [Modules](https://nuxt.com/docs/4.x/api/kit/modules)
- [Runtime Config](https://nuxt.com/docs/4.x/api/kit/runtime-config)
- [Templates](https://nuxt.com/docs/4.x/api/kit/templates)
- [Nitro](https://nuxt.com/docs/4.x/api/kit/nitro)
- [Resolving](https://nuxt.com/docs/4.x/api/kit/resolving)
- [Logging](https://nuxt.com/docs/4.x/api/kit/logging)
- [Builder](https://nuxt.com/docs/4.x/api/kit/builder)
- [Examples](https://nuxt.com/docs/4.x/api/kit/examples)
- [Layers](https://nuxt.com/docs/4.x/api/kit/layers)
- [Programmatic Usage](https://nuxt.com/docs/4.x/api/kit/programmatic)
- [Compatibility](https://nuxt.com/docs/4.x/api/kit/compatibility)
- [Auto-imports](https://nuxt.com/docs/4.x/api/kit/autoimports)
- [Components](https://nuxt.com/docs/4.x/api/kit/components)
- [Context](https://nuxt.com/docs/4.x/api/kit/context)
- [Pages](https://nuxt.com/docs/4.x/api/kit/pages)
- [Layout](https://nuxt.com/docs/4.x/api/kit/layout)
- [Head](https://nuxt.com/docs/4.x/api/kit/head)
- [Plugins](https://nuxt.com/docs/4.x/api/kit/plugins)

- Advanced


- [Lifecycle Hooks](https://nuxt.com/docs/4.x/api/advanced/hooks)
- [Import meta](https://nuxt.com/docs/4.x/api/advanced/import-meta)

- [Nuxt Configuration](https://nuxt.com/docs/4.x/api/nuxt-config)

1. [API](https://nuxt.com/docs/4.x/api)
3. [Nuxt Kit](https://nuxt.com/docs/4.x/api/kit)

# Nitro

[Source](https://github.com/nuxt/nuxt/blob/main/packages/kit/src/nitro.ts)

Copy page

Nuxt Kit provides a set of utilities to help you work with Nitro. These functions allow you to add server handlers, plugins, and prerender routes.

Nitro is an open source TypeScript framework to build ultra-fast web servers. Nuxt uses Nitro as its server engine. You can use `useNitro` to access the Nitro instance, `addServerHandler` to add a server handler, `addDevServerHandler` to add a server handler to be used only in development mode, `addServerPlugin` to add a plugin to extend Nitro's runtime behavior, and `addPrerenderRoutes` to add routes to be prerendered by Nitro.

## [`addServerHandler`](https://nuxt.com/docs/4.x/api/kit/nitro\#addserverhandler)

Adds a Nitro server handler. Use this if you want to create server middleware or a custom route.

### [Usage](https://nuxt.com/docs/4.x/api/kit/nitro\#usage)

```ts
import { addServerHandler, createResolver, defineNuxtModule } from '@nuxt/kit'

export default defineNuxtModule({
  setup (options) {
    const { resolve } = createResolver(import.meta.url)

    addServerHandler({
      route: '/robots.txt',
      handler: resolve('./runtime/robots.get'),
    })
  },
})
```

### [Type](https://nuxt.com/docs/4.x/api/kit/nitro\#type)

```ts
function addServerHandler (handler: NitroEventHandler): void
```

### [Parameters](https://nuxt.com/docs/4.x/api/kit/nitro\#parameters)

**handler**: A handler object with the following properties:

| Property | Type | Required | Description |
| --- | --- | --- | --- |
| `handler` | `string` | `true` | Path to event handler. |
| `route` | `string` | `false` | Path prefix or route. If an empty string used, will be used as a middleware. |
| `middleware` | `boolean` | `false` | Specifies this is a middleware handler. Middleware are called on every route and should normally return nothing to pass to the next handlers. |
| `lazy` | `boolean` | `false` | Use lazy loading to import the handler. This is useful when you only want to load the handler on demand. |
| `method` | `string` | `false` | Router method matcher. If handler name contains method name, it will be used as a default value. |

### [Examples](https://nuxt.com/docs/4.x/api/kit/nitro\#examples)

#### [Basic Usage](https://nuxt.com/docs/4.x/api/kit/nitro\#basic-usage)

You can use `addServerHandler` to add a server handler from your module.

module.tsruntime/robots.get.ts

```ts
import { addServerHandler, createResolver, defineNuxtModule } from '@nuxt/kit'

export default defineNuxtModule({
  setup (options) {
    const { resolve } = createResolver(import.meta.url)

    addServerHandler({
      route: '/robots.txt',
      handler: resolve('./runtime/robots.get'),
    })
  },
})
```

```ts
export default defineEventHandler(() => {
  return {
    body: `User-agent: *\nDisallow: /`,
  }
})
```

When you access `/robots.txt`, it will return the following response:

```txt
User-agent: *
Disallow: /
```

## [`addDevServerHandler`](https://nuxt.com/docs/4.x/api/kit/nitro\#adddevserverhandler)

Adds a Nitro server handler to be used only in development mode. This handler will be excluded from production build.

### [Usage](https://nuxt.com/docs/4.x/api/kit/nitro\#usage-1)

```ts
import { defineEventHandler } from 'h3'
import { addDevServerHandler, createResolver, defineNuxtModule } from '@nuxt/kit'

export default defineNuxtModule({
  setup () {
    addDevServerHandler({
      handler: defineEventHandler(() => {
        return {
          body: `Response generated at ${new Date().toISOString()}`,
        }
      }),
      route: '/_handler',
    })
  },
})
```

### [Type](https://nuxt.com/docs/4.x/api/kit/nitro\#type-1)

```ts
function addDevServerHandler (handler: NitroDevEventHandler): void
```

### [Parameters](https://nuxt.com/docs/4.x/api/kit/nitro\#parameters-1)

**handler**: A handler object with the following properties:

| Property | Type | Required | Description |
| --- | --- | --- | --- |
| `handler` | `EventHandler` | `true` | Event handler. |
| `route` | `string` | `false` | Path prefix or route. If an empty string used, will be used as a middleware. |

### [Examples](https://nuxt.com/docs/4.x/api/kit/nitro\#examples-1)

#### [Basic Usage](https://nuxt.com/docs/4.x/api/kit/nitro\#basic-usage-1)

In some cases, you may want to create a server handler specifically for development purposes, such as a Tailwind config viewer.

```ts
import { joinURL } from 'ufo'
import { addDevServerHandler, defineNuxtModule } from '@nuxt/kit'

export default defineNuxtModule({
  async setup (options, nuxt) {
    const route = joinURL(nuxt.options.app?.baseURL, '/_tailwind')

    // @ts-expect-error - tailwind-config-viewer does not have correct types
    const createServer = await import('tailwind-config-viewer/server/index.js').then(r => r.default || r) as any
    const viewerDevMiddleware = createServer({ tailwindConfigProvider: () => options, routerPrefix: route }).asMiddleware()

    addDevServerHandler({ route, handler: viewerDevMiddleware })
  },
})
```

## [`useNitro`](https://nuxt.com/docs/4.x/api/kit/nitro\#usenitro)

Returns the Nitro instance.

You can call `useNitro()` only after `ready` hook.

Changes to the Nitro instance configuration are not applied.

### [Usage](https://nuxt.com/docs/4.x/api/kit/nitro\#usage-2)

```ts
import { defineNuxtModule, useNitro } from '@nuxt/kit'

export default defineNuxtModule({
  setup (options, nuxt) {
    const resolver = createResolver(import.meta.url)

    nuxt.hook('ready', () => {
      const nitro = useNitro()
      // Do something with Nitro instance
    })
  },
})
```

### [Type](https://nuxt.com/docs/4.x/api/kit/nitro\#type-2)

```ts
function useNitro (): Nitro
```

## [`addServerPlugin`](https://nuxt.com/docs/4.x/api/kit/nitro\#addserverplugin)

Add plugin to extend Nitro's runtime behavior.

You can read more about Nitro plugins in the [Nitro documentation](https://nitro.build/guide/plugins).

It is necessary to explicitly import `defineNitroPlugin` from `nitropack/runtime` within your plugin file. The same requirement applies to utilities such as `useRuntimeConfig`.

### [Usage](https://nuxt.com/docs/4.x/api/kit/nitro\#usage-3)

```ts
import { addServerPlugin, createResolver, defineNuxtModule } from '@nuxt/kit'

export default defineNuxtModule({
  setup () {
    const { resolve } = createResolver(import.meta.url)
    addServerPlugin(resolve('./runtime/plugin.ts'))
  },
})
```

### [Type](https://nuxt.com/docs/4.x/api/kit/nitro\#type-3)

```ts
function addServerPlugin (plugin: string): void
```

### [Parameters](https://nuxt.com/docs/4.x/api/kit/nitro\#parameters-2)

| Property | Type | Required | Description |
| --- | --- | --- | --- |
| `plugin` | `string` | `true` | Path to the plugin. The plugin must export a default function that accepts the Nitro instance as an argument. |

### [Examples](https://nuxt.com/docs/4.x/api/kit/nitro\#examples-2)

module.tsruntime/plugin.ts

```ts
import { addServerPlugin, createResolver, defineNuxtModule } from '@nuxt/kit'

export default defineNuxtModule({
  setup () {
    const { resolve } = createResolver(import.meta.url)
    addServerPlugin(resolve('./runtime/plugin.ts'))
  },
})
```

```ts
export default defineNitroPlugin((nitroApp) => {
  nitroApp.hooks.hook('request', (event) => {
    console.log('on request', event.path)
  })

  nitroApp.hooks.hook('beforeResponse', (event, { body }) => {
    console.log('on response', event.path, { body })
  })

  nitroApp.hooks.hook('afterResponse', (event, { body }) => {
    console.log('on after response', event.path, { body })
  })
})
```

## [`addPrerenderRoutes`](https://nuxt.com/docs/4.x/api/kit/nitro\#addprerenderroutes)

Add routes to be prerendered to Nitro.

### [Usage](https://nuxt.com/docs/4.x/api/kit/nitro\#usage-4)

```ts
import { addPrerenderRoutes, defineNuxtModule } from '@nuxt/kit'

export default defineNuxtModule({
  meta: {
    name: 'nuxt-sitemap',
    configKey: 'sitemap',
  },
  defaults: {
    sitemapUrl: '/sitemap.xml',
    prerender: true,
  },
  setup (options) {
    if (options.prerender) {
      addPrerenderRoutes(options.sitemapUrl)
    }
  },
})
```

### [Type](https://nuxt.com/docs/4.x/api/kit/nitro\#type-4)

```ts
function addPrerenderRoutes (routes: string | string[]): void
```

### [Parameters](https://nuxt.com/docs/4.x/api/kit/nitro\#parameters-3)

| Property | Type | Required | Description |
| --- | --- | --- | --- |
| `routes` | `string | string[]` | `true` | A route or an array of routes to prerender. |

## [`addServerImports`](https://nuxt.com/docs/4.x/api/kit/nitro\#addserverimports)

Add imports to the server. It makes your imports available in Nitro without the need to import them manually.

### [Usage](https://nuxt.com/docs/4.x/api/kit/nitro\#usage-5)

```ts
import { addServerImports, createResolver, defineNuxtModule } from '@nuxt/kit'

export default defineNuxtModule({
  setup (options) {
    const names = [\
      'useStoryblok',\
      'useStoryblokApi',\
      'useStoryblokBridge',\
      'renderRichText',\
      'RichTextSchema',\
    ]

    names.forEach(name =>
      addServerImports({ name, as: name, from: '@storyblok/vue' }),
    )
  },
})
```

### [Type](https://nuxt.com/docs/4.x/api/kit/nitro\#type-5)

```ts
function addServerImports (dirs: Import | Import[]): void
```

### [Parameters](https://nuxt.com/docs/4.x/api/kit/nitro\#parameters-4)

`imports`: An object or an array of objects with the following properties:

| Property | Type | Required | Description |
| --- | --- | --- | --- |
| `name` | `string` | `true` | Import name to be detected. |
| `from` | `string` | `true` | Module specifier to import from. |
| `priority` | `number` | `false` | Priority of the import; if multiple imports have the same name, the one with the highest priority will be used. |
| `disabled` | `boolean` | `false` | If this import is disabled. |
| `meta` | `Record<string, any>` | `false` | Metadata of the import. |
| `type` | `boolean` | `false` | If this import is a pure type import. |
| `typeFrom` | `string` | `false` | Use this as the `from` value when generating type declarations. |
| `as` | `string` | `false` | Import as this name. |

## [`addServerImportsDir`](https://nuxt.com/docs/4.x/api/kit/nitro\#addserverimportsdir)

Add a directory to be scanned for auto-imports by Nitro.

### [Usage](https://nuxt.com/docs/4.x/api/kit/nitro\#usage-6)

```ts
import { addServerImportsDir, createResolver, defineNuxtModule } from '@nuxt/kit'

export default defineNuxtModule({
  meta: {
    name: 'my-module',
    configKey: 'myModule',
  },
  setup (options) {
    const { resolve } = createResolver(import.meta.url)
    addServerImportsDir(resolve('./runtime/server/composables'))
  },
})
```

### [Type](https://nuxt.com/docs/4.x/api/kit/nitro\#type-6)

```ts
function addServerImportsDir (dirs: string | string[], opts: { prepend?: boolean }): void
```

### [Parameters](https://nuxt.com/docs/4.x/api/kit/nitro\#parameters-5)

| Property | Type | Required | Description |
| --- | --- | --- | --- |
| `dirs` | `string | string[]` | `true` | A directory or an array of directories to register to be scanned by Nitro. |
| `opts` | `{ prepend?: boolean }` | `false` | Options for the import directory. If `prepend` is `true`, the directory is added to the beginning of the scan list. |

### [Examples](https://nuxt.com/docs/4.x/api/kit/nitro\#examples-3)

You can use `addServerImportsDir` to add a directory to be scanned by Nitro. This is useful when you want Nitro to auto-import functions from a custom server directory.

module.tsruntime/server/composables/index.ts

```ts
import { addServerImportsDir, createResolver, defineNuxtModule } from '@nuxt/kit'

export default defineNuxtModule({
  meta: {
    name: 'my-module',
    configKey: 'myModule',
  },
  setup (options) {
    const { resolve } = createResolver(import.meta.url)
    addServerImportsDir(resolve('./runtime/server/composables'))
  },
})
```

```ts
export function useApiSecret () {
  const { apiSecret } = useRuntimeConfig()
  return apiSecret
}
```

You can then use the `useApiSecret` function in your server code:

runtime/server/api/hello.ts

```ts
export default defineEventHandler(() => {
  const apiSecret = useApiSecret()
  // Do something with the apiSecret
})
```

## [`addServerScanDir`](https://nuxt.com/docs/4.x/api/kit/nitro\#addserverscandir)

Add directories to be scanned by Nitro. It will check for subdirectories, which will be registered
just like the `~/server` folder is.

Only `~/server/api`, `~/server/routes`, `~/server/middleware`, and `~/server/utils` are scanned.

### [Usage](https://nuxt.com/docs/4.x/api/kit/nitro\#usage-7)

```ts
import { addServerScanDir, createResolver, defineNuxtModule } from '@nuxt/kit'

export default defineNuxtModule({
  meta: {
    name: 'my-module',
    configKey: 'myModule',
  },
  setup (options) {
    const { resolve } = createResolver(import.meta.url)
    addServerScanDir(resolve('./runtime/server'))
  },
})
```

### [Type](https://nuxt.com/docs/4.x/api/kit/nitro\#type-7)

```ts
function addServerScanDir (dirs: string | string[], opts: { prepend?: boolean }): void
```

### [Parameters](https://nuxt.com/docs/4.x/api/kit/nitro\#parameters-6)

| Property | Type | Required | Description |
| --- | --- | --- | --- |
| `dirs` | `string | string[]` | `true` | A directory or an array of directories to register to be scanned for by Nitro as server dirs. |
| `opts` | `{ prepend?: boolean }` | `false` | Options for the import directory. If `prepend` is `true`, the directory is added to the beginning of the scan list. |

### [Examples](https://nuxt.com/docs/4.x/api/kit/nitro\#examples-4)

You can use `addServerScanDir` to add a directory to be scanned by Nitro. This is useful when you want to add a custom server directory.

module.tsruntime/server/utils/index.ts

```ts
import { addServerScanDir, createResolver, defineNuxtModule } from '@nuxt/kit'

export default defineNuxtModule({
  meta: {
    name: 'my-module',
    configKey: 'myModule',
  },
  setup (options) {
    const { resolve } = createResolver(import.meta.url)
    addServerScanDir(resolve('./runtime/server'))
  },
})
```

```ts
export function hello () {
  return 'Hello from server utils!'
}
```

You can then use the `hello` function in your server code.

runtime/server/api/hello.ts

```ts
export default defineEventHandler(() => {
  return hello() // Hello from server utils!
})
```

Was this helpful?

ü§©üôÇ‚òπÔ∏èüò∞

[Report an issue](https://github.com/nuxt/nuxt/issues/new/choose) or [Edit this page on GitHub](https://github.com/nuxt/nuxt/edit/main/docs/4.api/5.kit/11.nitro.md)

[Templates\\
\\
Nuxt Kit provides a set of utilities to help you work with templates. These functions allow you to generate extra files during development and build time.](https://nuxt.com/docs/4.x/api/kit/templates) [Resolving\\
\\
Nuxt Kit provides a set of utilities to help you resolve paths. These functions allow you to resolve paths relative to the current module, with unknown name or extension.](https://nuxt.com/docs/4.x/api/kit/resolving)

On this page

On this page

- [addServerHandler](https://nuxt.com/docs/4.x/api/kit/nitro#addserverhandler)
  - [Usage](https://nuxt.com/docs/4.x/api/kit/nitro#usage)
  - [Type](https://nuxt.com/docs/4.x/api/kit/nitro#type)
  - [Parameters](https://nuxt.com/docs/4.x/api/kit/nitro#parameters)
  - [Examples](https://nuxt.com/docs/4.x/api/kit/nitro#examples)
- [addDevServerHandler](https://nuxt.com/docs/4.x/api/kit/nitro#adddevserverhandler)
  - [Usage](https://nuxt.com/docs/4.x/api/kit/nitro#usage-1)
  - [Type](https://nuxt.com/docs/4.x/api/kit/nitro#type-1)
  - [Parameters](https://nuxt.com/docs/4.x/api/kit/nitro#parameters-1)
  - [Examples](https://nuxt.com/docs/4.x/api/kit/nitro#examples-1)
- [useNitro](https://nuxt.com/docs/4.x/api/kit/nitro#usenitro)
  - [Usage](https://nuxt.com/docs/4.x/api/kit/nitro#usage-2)
  - [Type](https://nuxt.com/docs/4.x/api/kit/nitro#type-2)
- [addServerPlugin](https://nuxt.com/docs/4.x/api/kit/nitro#addserverplugin)
  - [Usage](https://nuxt.com/docs/4.x/api/kit/nitro#usage-3)
  - [Type](https://nuxt.com/docs/4.x/api/kit/nitro#type-3)
  - [Parameters](https://nuxt.com/docs/4.x/api/kit/nitro#parameters-2)
  - [Examples](https://nuxt.com/docs/4.x/api/kit/nitro#examples-2)
- [addPrerenderRoutes](https://nuxt.com/docs/4.x/api/kit/nitro#addprerenderroutes)
  - [Usage](https://nuxt.com/docs/4.x/api/kit/nitro#usage-4)
  - [Type](https://nuxt.com/docs/4.x/api/kit/nitro#type-4)
  - [Parameters](https://nuxt.com/docs/4.x/api/kit/nitro#parameters-3)
- [addServerImports](https://nuxt.com/docs/4.x/api/kit/nitro#addserverimports)
  - [Usage](https://nuxt.com/docs/4.x/api/kit/nitro#usage-5)
  - [Type](https://nuxt.com/docs/4.x/api/kit/nitro#type-5)
  - [Parameters](https://nuxt.com/docs/4.x/api/kit/nitro#parameters-4)
- [addServerImportsDir](https://nuxt.com/docs/4.x/api/kit/nitro#addserverimportsdir)
  - [Usage](https://nuxt.com/docs/4.x/api/kit/nitro#usage-6)
  - [Type](https://nuxt.com/docs/4.x/api/kit/nitro#type-6)
  - [Parameters](https://nuxt.com/docs/4.x/api/kit/nitro#parameters-5)
  - [Examples](https://nuxt.com/docs/4.x/api/kit/nitro#examples-3)
- [addServerScanDir](https://nuxt.com/docs/4.x/api/kit/nitro#addserverscandir)
  - [Usage](https://nuxt.com/docs/4.x/api/kit/nitro#usage-7)
  - [Type](https://nuxt.com/docs/4.x/api/kit/nitro#type-7)
  - [Parameters](https://nuxt.com/docs/4.x/api/kit/nitro#parameters-6)
  - [Examples](https://nuxt.com/docs/4.x/api/kit/nitro#examples-4)

Community

- [Become a Sponsor](https://go.nuxt.com/sponsor)
- [Master Nuxt](https://masteringnuxt.com/nuxt3)
- [Nuxt Certification](https://certification.nuxt.com/)

[Nuxt on Discord](https://go.nuxt.com/discord) [Nuxt on Bluesky](https://go.nuxt.com/bluesky) [Nuxt on X](https://go.nuxt.com/x) [Nuxt on GitHub](https://go.nuxt.com/github)

Black Friday Week

Get 60% off and bonuses on all Official Nuxt Certifications.

MenuOn this page

### Community

- [Nuxters](https://nuxters.nuxt.com/)
- [Team](https://nuxt.com/team)
- [Design Kit](https://nuxt.com/design-kit)

### Explore

- [Modules](https://nuxt.com/modules)
- [Templates](https://nuxt.com/templates)
- [Showcase](https://nuxt.com/showcase)

### Enterprise

- [Support](https://nuxt.com/enterprise/support)
- [Agencies](https://nuxt.com/enterprise/agencies)
- [Sponsors](https://nuxt.com/enterprise/sponsors)

Subscribe to our newsletter

Stay updated on new releases and features, guides, and community updates.

Subscribe

[Nuxt on X](https://go.nuxt.com/x) [Nuxt on BlueSky](https://go.nuxt.com/bluesky) [Nuxt on LinkedIn](https://go.nuxt.com/linkedin) [Nuxt on Discord](https://go.nuxt.com/discord) [Nuxt on GitHub](https://go.nuxt.com/github)

Copyright ¬© 2016-2025 Nuxt - [MIT License](https://go.nuxt.com/license)