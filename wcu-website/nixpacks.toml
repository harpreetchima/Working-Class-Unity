# Nixpacks Configuration for Nuxt 4 SSR Deployment
# This file configures the build environment for Coolify deployments

[phases.setup]
# Use Node.js 20 LTS to meet Nuxt 4.2.1 requirements
# Required: ^20.19.0 || >=22.12.0
nixPkgs = ["nodejs_20"]

[phases.install]
cmds = ["npm ci"]

[phases.build]
cmds = ["npm run build"]

[start]
cmd = "node .output/server/index.mjs"
